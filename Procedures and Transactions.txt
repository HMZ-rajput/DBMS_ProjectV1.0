---------------------Vehicle
get car:
create procedure getVehicle
as
begin
select * from Vehicles
end

add car:
create procedure addVehicle
@Make nvarchar(30),
@Model nvarchar(30),
@Year int,
@Mileage int
as
begin
insert into Vehicles (Make,Model,Year,Mileage,Status,BuyDate) values(@Make,@Model,@Year,@Mileage,'NOT REPAIR',getdate())
end

delete car:
create procedure delVehicle
@VehicleID int
as begin
if exists (select * from Vehicles where VehicleID=@VehicleID)
begin
	delete from Vehicles where VehicleID=@VehicleID
end
end

--Add Car altered
alter procedure addVehicle
@Make nvarchar(30),
@Model nvarchar(30),
@Year int,
@Mileage int,
@Cost int,
@VendorID int
as
begin
insert into Vehicles (Make,Model,Year,Mileage,Status,BuyDate,Cost,VendorID) values(@Make,@Model,@Year,@Mileage,'NOT REPAIR',getdate(),@Cost,@VendorID)
end


--Upadte Vehicle

create procedure updateVehicleMake
@VehicleID int,
@Make nvarchar(30)
as
begin
if exists (select * from Vehicles where VehicleID=@VehicleID)
begin
	update Vehicles set Make=@Make where VehicleID=@VehicleID
end
end

create procedure updateVehicleModel
@VehicleID int,
@Model nvarchar(30)
as
begin
if exists (select * from Vehicles where VehicleID=@VehicleID)
begin
	update Vehicles set Model=@Model where VehicleID=@VehicleID
end
end

create procedure updateVehicleYear
@VehicleID int,
@Year int
as
begin
if exists (select * from Vehicles where VehicleID=@VehicleID)
begin
	update Vehicles set Year=@Year where VehicleID=@VehicleID
end
end

create procedure updateVehicleMileage
@VehicleID int,
@Mileage int
as
begin
if exists (select * from Vehicles where VehicleID=@VehicleID)
begin
	update Vehicles set Mileage=@Mileage where VehicleID=@VehicleID
end
end

create procedure updateVehicleCost
@VehicleID int,
@Cost int
as
begin
if exists (select * from Vehicles where VehicleID=@VehicleID)
begin
	update Vehicles set Cost=@Cost where VehicleID=@VehicleID
end
end

create procedure updateVehicleVendor
@VehicleID int,
@VendorID int
as
begin
if exists (select * from Vehicles where VehicleID=@VehicleID)
begin
	update Vehicles set VendorID=@VendorID where VehicleID=@VehicleID
end
end

-------------------------Spare Parts
--crud for spareparts
create procedure addSparePart
	@partName nvarchar(30),
	@partDescription nvarchar(100),
	@partCost int
as
begin
	SET NOCOUNT ON;
		insert into SpareParts values (@partName,@partDescription,@partCost)
end

create procedure updateSparePart
	@partID int,
	@partName nvarchar(30),
	@partDescription nvarchar(100),
	@partCost int
as
begin
	SET NOCOUNT ON;
		update SpareParts
		set PartName = @partName, PartDescription = @partDescription, PartCost = @partCost where PartID = @partID 
end

create procedure deleteSparePart
	@partID int
as
begin
	SET NOCOUNT ON;
		delete from SpareParts where PartID = @partID 
end

create procedure readSparePart
as
begin
	SET NOCOUNT ON;
		select * from SpareParts
end


----------------------------------Vendors
--Add Vendor
create procedure addVendors
@Name nvarchar(30),
@Address nvarchar(30),
@Phone nvarchar(30)
as
begin
insert into Vendors values(@Name,@Address,@Phone)
end

--get Vendors
create procedure getVendors
as
begin
select * from Vendors
end

--delete Vendors
create procedure delVendor
@VendorID int
as begin
if exists (select * from Vendors where VendorID=@VendorID)
begin
	delete from Vendors where VendorID=@VendorID
end
end

--update vendors
create procedure updateVendorName
@VendorID int,
@Name nvarchar(30)
as
begin
if exists (select * from Vendors where VendorID=@VendorID)
begin
	update Vendors set Name=@Name where VendorID=@VendorID
end
end

create procedure updateVendorAddress
@VendorID int,
@Address nvarchar(30)
as
begin
if exists (select * from Vendors where VendorID=@VendorID)
begin
	update Vendors set Address=@Address where VendorID=@VendorID
end
end

create procedure updateVendorPhone
@VendorID int,
@Phone nvarchar(30)
as
begin
if exists (select * from Vendors where VendorID=@VendorID)
begin
	update Vendors set Phone=@Phone where VendorID=@VendorID
end
end


------------------Technicians

--get Tech
create procedure getTechnician
as
begin
select * from Technicians
end

--add Tech
create procedure addTechnician
@Name nvarchar(30),
@Address nvarchar(50),
@Phone nvarchar(20)
as
begin
insert into Technicians values(@Name,@Address,@Phone)
end

--del Tech
create procedure delTechnician
@TechnicianID int
as
begin
if exists(select * from Technicians where TechnicianID=@TechnicianID)
begin
	delete from Technicians where TechnicianID=@TechnicianID
end
end

--update Tech
create procedure updateTechnicianName
@TechnicianID int,
@Name nvarchar(30)
as
begin
if exists (select * from Technicians where TechnicianID=@TechnicianID)
begin
	update Technicians set Name=@Name where TechnicianID=@TechnicianID
end
end

create procedure updateTechnicianAddress
@TechnicianID int,
@Address nvarchar(50)
as
begin
if exists (select * from Technicians where TechnicianID=@TechnicianID)
begin
	update Technicians set Address=@Address where TechnicianID=@TechnicianID
end
end

create procedure updateTechnicianPhone
@TechnicianID int,
@Phone nvarchar(20)
as
begin
if exists (select * from Technicians where TechnicianID=@TechnicianID)
begin
	update Technicians set Phone=@Phone where TechnicianID=@TechnicianID
end
end


------------------Customer
--Add Customer
create procedure addCustomers
@Name nvarchar(30),
@Address nvarchar(30),
@Phone nvarchar(30)
as
begin
insert into Customers values(@Name,@Address,@Phone)
end

--get Customers
create procedure getCustomers
as
begin
select * from Customers
end

--delete Customers
create procedure delCustomer
@CustomerID int
as begin
if exists (select * from Customers where CustomerID=@CustomerID)
begin
	delete from Customers where CustomerID=@CustomerID
end
end

--update Customers
create procedure updateCustomerName
@CustomerID int,
@Name nvarchar(30)
as
begin
if exists (select * from Customers where CustomerID=@CustomerID)
begin
	update Customers set Name=@Name where CustomerID=@CustomerID
end
end

create procedure updateCustomerAddress
@CustomerID int,
@Address nvarchar(30)
as
begin
if exists (select * from Customers where CustomerID=@CustomerID)
begin
	update Customers set Address=@Address where CustomerID=@CustomerID
end
end

create procedure updateCustomerPhone
@CustomerID int,
@Phone nvarchar(30)
as
begin
if exists (select * from Customers where CustomerID=@CustomerID)
begin
	update Customers set Phone=@Phone where CustomerID=@CustomerID
end
end

-----------------------SpareParts
create procedure updateSparePartsName
@PartID int,
@PartName nvarchar(30)
as
begin
if exists(select 1 from SpareParts where PartID=@PartID)
begin
	update SpareParts set PartName=@PartName where PartID=@PartID
end
end

create procedure updateSparePartsDesc
@PartID int,
@Description nvarchar(100)
as
begin
if exists(select 1 from SpareParts where PartID=@PartID)
begin
	update SpareParts set PartDescription=@Description where PartID=@PartID
end
end

create procedure updateSparePartsCost
@PartID int,
@Cost int
as
begin
if exists(select 1 from SpareParts where PartID=@PartID)
begin
	update SpareParts set PartCost=@Cost where PartID=@PartID
end
end


--Employee


------------------Employee

--Add Employee
create procedure addEmployee
@Name nvarchar(30),
@Address nvarchar(30),
@Phone nvarchar(30),
@CommisionPercentage int
as
begin
insert into Employee values(@Name, @Address, @Phone, @CommisionPercentage)
end

--get Employees
create procedure getEmployee
as
begin
select* from Employee
end

--delete Employees
create procedure delEmployee
@EmployeeID int
as begin
if exists(select * from Employee where EmployeeID = @EmployeeID)
begin
    delete from Employee where EmployeeID = @EmployeeID
end
end

--update Employees
create procedure updateEmployeeName
@EmployeeID int,
@Name nvarchar(30)
as
begin
if exists(select * from Employee where EmployeeID = @EmployeeID)
begin
    update Employee set Name = @Name where EmployeeID = @EmployeeID
end
end

create procedure updateEmployeeCommission
@EmployeeID int,
@CommisionPercentage int
as
begin
if exists(select * from Employee where EmployeeID = @EmployeeID)
begin
    update Employee set CommisionPercentage = @CommisionPercentage where EmployeeID = @EmployeeID
end
end

create procedure updateEmployeeAddress
@EmployeeID int,
@Address nvarchar(30)
as
begin
if exists(select * from Employee where EmployeeID = @EmployeeID)
begin
    update Employee set Address = @Address where EmployeeID = @EmployeeID
end
end

create procedure updateEmployeePhone
@EmployeeID int,
@Phone nvarchar(30)
as
begin
if exists(select * from Employee where EmployeeID = @EmployeeID)
begin
    update Employee set Phone = @Phone where EmployeeID = @EmployeeID
end
end